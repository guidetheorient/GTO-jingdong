webpackJsonp([8],{31:function(s,a,r){s.exports=r(32)},32:function(s,a,r){"use strict";(function(s){r(33),r(2);var a=r(0),e=r(3),t={data:function(s,a,r){return a in s?Object.defineProperty(s,a,{value:r,enumerable:!0,configurable:!0,writable:!0}):s[a]=r,s}({formData:{username:"",password:"",passwordConfirm:"",phone:"",question:"",answer:""},usernameErrorInfo:{numberError:"用户名不能为纯数字，请重新输入",lengthError:"长度只能在4-20个字符之间"},passwordInfo:{lengthError:"长度只能在6-20个字符之间",securityWaring:"密码强度低，有被盗风险",securityInfo:"你的密码很安全"},passwordConfirmErrorInfo:{notSameError:"两次输入的密码不一致"},phoneErrorInfo:{error:"不是有效的手机号"},emailErrorInfo:{error:"不是正确的邮箱地址"},questionErrorInfo:{error:"忘记填密保问题了"}},"questionErrorInfo",{error:"忘记填密保答案了"}),init:function(){this.load(),this.bind()},load:function(){},bind:function(){var a=this;this.$form=s(".form"),this.$formItem=this.$form.find(".form-item"),this.$tipWrapper=this.$form.find(".tip-wrapper"),this.$form.find(".ipt").on("focus",function(){var a=s(this).parent().next(".tip-wrapper");a.hasClass("show")||a.addClass("show").find(".tip").text(a.find(".tip").data("default")),s(this).siblings(".status-icon").hide()}).on("blur",function(){s(this).parent().next(".tip-wrapper").removeClass("show")}),this.checkUsername(s("#username")),this.checkPassword(s("#password")),this.checkPasswordConfirm(s("#password-confirm")),this.checkPhoneNum(s("#phone")),this.checkEmail(s("#email")),this.checkQuestion(s("#question")),this.checkAnswer(s("#answer")),this.$submitBtn=s(".submit-btn");var r=void 0;this.$submitBtn.on("click",function(t){t.preventDefault(),r=setTimeout(function(){var r={username:s("#username").val().trim(),password:s("#password").val().trim(),passwordConfirm:s("#password-confirm").val().trim(),phone:s("#phone").val().trim(),email:s("#email").val().trim(),question:s("#question").val().trim(),answer:s("#answer").val().trim()};a.isValidUsername(r.username)&&a.isValidPassword(r.password)&&a.isSamePassword(r.password,r.passwordConfirm)&&a.isValidPhone(r.phone)&&a.isValidEmail(r.email)&&a.isValidQuestion(r.question)&&a.isValidAnswer(r.answer)&&e.register(r,function(s){alert(s.msg),location.href="./index.html"},function(s){alert(s)})})})},checkUsername:function(s){var a=this,r=s.parent(),t=r.find(".status-icon"),n=s.parent().next(".tip-wrapper"),o=n.find(".tip");s.on("blur",function(){var i=s.val().trim(),d=a.isValidUsername(i);return i?d.status?void(d.status&&e.checkUsername({str:i},function(s){r.removeClass("danger"),t.removeClass("wrong").addClass("ok").show(),n.removeClass("show danger")},function(s){r.removeClass("danger"),t.removeClass("ok").addClass("wrong").show(),n.removeClass("danger").addClass("show").find(".tip").text(s)})):(r.addClass("danger"),n.addClass("danger show").find(".tip").text(d.msg),!1):(r.removeClass("danger"),t.hide(),o.text(o.data("default")),void n.removeClass("danger").removeClass("show"))})},checkPassword:function(a){var r=this,e=a.parent(),t=e.find(".status-icon"),n=a.parent().next(".tip-wrapper"),o=n.find(".tip");a.on("blur",function(){var s=a.val().trim(),i=r.isValidPassword(s);return s?i.status?void(i.status&&(o.text(i.msg),e.removeClass("danger"),t.removeClass("wrong").addClass("ok").show(),n.removeClass("danger").addClass("show"))):(e.addClass("danger"),n.addClass("danger show").find(".tip").text(i.msg),!1):(e.removeClass("danger"),t.hide(),o.text(o.data("default")),void n.removeClass("danger").removeClass("show"))}).on("input",function(){var i=a.val().trim(),d=r.isValidPassword(i),l=s("#password-confirm");l.siblings(".status-icon");return l.val().trim()&&l.trigger("blur"),i?d.status?(o.text(d.msg),e.removeClass("danger"),t.removeClass("wrong").addClass("ok").show(),void n.removeClass("danger").addClass("show")):(o.text(o.data("default")),e.removeClass("danger"),t.removeClass("ok").addClass("wrong").show(),n.removeClass("danger").addClass("show"),void 0):(e.removeClass("danger"),t.hide(),o.text(o.data("default")),void n.removeClass("danger").removeClass("show"))})},checkPasswordConfirm:function(a){var r=this,e=a.parent(),t=e.find(".status-icon"),n=a.parent().next(".tip-wrapper"),o=n.find(".tip");a.on("blur",function(){var i=s("#password").val().trim(),d=a.val().trim();if(!d)return e.removeClass("danger"),t.hide(),o.text(o.data("default")),void n.removeClass("danger").removeClass("show");i===d?(e.removeClass("danger"),t.addClass("ok").show(),n.removeClass("danger show")):(e.addClass("danger"),t.removeClass("ok").hide(),o.text(r.data.passwordConfirmErrorInfo.notSameError),n.addClass("danger show"))})},checkPhoneNum:function(s){var a=this,r=s.parent(),e=r.find(".status-icon"),t=s.parent().next(".tip-wrapper"),n=t.find(".tip");s.on("blur",function(){var o=s.val().trim();if(!o)return r.removeClass("danger"),t.removeClass("danger show"),e.removeClass("ok").hide(),void n.text(n.data("default"));var i=a.isValidPhone(o);i.status?(r.removeClass("danger"),e.addClass("ok").show(),t.removeClass("danger show")):i.status||(r.addClass("danger"),e.removeClass("ok").hide(),n.text(i.msg),t.addClass("danger show"))})},checkEmail:function(s){var a=this,r=s.parent(),e=r.find(".status-icon"),t=s.parent().next(".tip-wrapper"),n=t.find(".tip");s.on("blur",function(){var o=s.val().trim();if(!o)return r.removeClass("danger"),t.removeClass("danger show"),e.removeClass("ok").hide(),void n.text(n.data("default"));var i=a.isValidEmail(o);i.status?(r.removeClass("danger"),e.addClass("ok").show(),t.removeClass("danger show")):i.status||(r.addClass("danger"),e.removeClass("ok").hide(),n.text(i.msg),t.addClass("danger show"))})},checkQuestion:function(s){var a=this,r=s.parent(),e=r.find(".status-icon"),t=s.parent().next(".tip-wrapper"),n=t.find(".tip");s.on("blur",function(){var o=s.val().trim();if(!o)return r.removeClass("danger"),t.removeClass("danger show"),e.removeClass("ok").hide(),void n.text(n.data("default"));var i=a.isValidQuestion(o);i.status?(r.removeClass("danger"),e.addClass("ok").show(),t.removeClass("danger show")):i.status||(r.addClass("danger"),e.removeClass("ok").hide(),n.text(i.msg),t.addClass("danger show"))})},checkAnswer:function(s){var a=this,r=s.parent(),e=r.find(".status-icon"),t=s.parent().next(".tip-wrapper"),n=t.find(".tip");s.on("blur",function(){var o=s.val().trim();if(!o)return r.removeClass("danger"),t.removeClass("danger show"),e.removeClass("ok").hide(),void n.text(n.data("default"));var i=a.isValidAnswer(o);i.status?(r.removeClass("danger"),e.addClass("ok").show(),t.removeClass("danger show")):i.status||(r.addClass("danger"),e.removeClass("ok").hide(),n.text(i.msg),t.addClass("danger show"))})},isValidUsername:function(s){var a={status:!1,msg:""};s=s.trim()||"";var r=/^\d+$/;return s.length<4||s.length>20?(a.msg=this.data.usernameErrorInfo.lengthError,a):r.test(s)?(a.msg=this.data.usernameErrorInfo.numberError,a):(a.status=!0,a)},isValidPassword:function(s){var a={status:!1,msg:""},r=/^(\d+|[a-z]+|[A-Z]+|_+)$/;return s.length<6||s.length>20?(a.msg=this.data.passwordInfo.lengthError,a):r.test(s)?(a.status=!0,a.msg=this.data.passwordInfo.securityWaring,a):(a.status=!0,a.msg=this.data.passwordInfo.securityInfo,a)},isSamePassword:function(s,a){var r={status:!1,msg:""};return s!==a?r:(r.status=!0,r)},isValidPhone:function(s){var r={status:!1,msg:""};return a.isPhoneNumber(s)?(r.status=!0,r):(r.msg=this.data.phoneErrorInfo.error,r)},isValidEmail:function(s){var r={status:!1,msg:""};return a.isEmail(s)?(r.status=!0,r):(r.msg=this.data.emailErrorInfo.error,r)},isValidQuestion:function(s){var r={status:!1,msg:""};return a.isRequired(s)?(r.status=!0,r):(r.msg=this.data.questionErrorInfo.error,r)},isValidAnswer:function(s){var r={status:!1,msg:""};return a.isRequired(s)?(r.status=!0,r):(r.msg=this.data.answerErrorInfo.error,r)}};s(function(){t.init()})}).call(a,r(1))},33:function(s,a){}},[31]);
//# sourceMappingURL=user-register.js.map