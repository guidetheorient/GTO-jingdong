{"version":3,"sources":["webpack:///js/user-register.js","webpack:///./src/pages/user-register/index.js"],"names":["webpackJsonp","31","module","exports","__webpack_require__","32","$","_util","_user","register","data","obj","key","value","Object","defineProperty","enumerable","configurable","writable","formData","username","password","passwordConfirm","phone","question","answer","usernameErrorInfo","numberError","lengthError","passwordInfo","securityWaring","securityInfo","passwordConfirmErrorInfo","notSameError","phoneErrorInfo","error","emailErrorInfo","questionErrorInfo","init","this","load","bind","_this","$form","$formItem","find","$tipWrapper","on","parent","next","hasClass","addClass","text","siblings","hide","removeClass","checkUsername","checkPassword","checkPasswordConfirm","checkPhoneNum","checkEmail","checkQuestion","checkAnswer","$submitBtn","timer","e","preventDefault","setTimeout","val","trim","email","isValidUsername","isValidPassword","isSamePassword","isValidPhone","isValidEmail","isValidQuestion","isValidAnswer","res","alert","msg","location","href","errMsg","$ele","$statusIcon","$tip","result","status","str","show","$passwordConfirm","trigger","password1","password2","name","reg","length","test","isPhoneNumber","isEmail","isRequired","answerErrorInfo","call","33"],"mappings":"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","file":"js/user-register.js","sourcesContent":["webpackJsonp([8],{\n\n/***/ 31:\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__(32);\n\n\n/***/ }),\n\n/***/ 32:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function($) {\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n/*\r\n * @Author: guidetheorient \r\n * @Date: 2018-04-03 05:38:46 \r\n * @Last Modified by: guidetheorient\r\n * @Last Modified time: 2018-04-06 13:44:43\r\n */\n\n__webpack_require__(33);\n\n__webpack_require__(2);\n\nvar _util = __webpack_require__(0);\nvar _user = __webpack_require__(3);\n\nvar register = {\n  data: _defineProperty({\n    formData: {\n      username: '',\n      password: '',\n      passwordConfirm: '',\n      phone: '',\n      question: '',\n      answer: ''\n    },\n    usernameErrorInfo: {\n      numberError: '用户名不能为纯数字，请重新输入',\n      lengthError: '长度只能在4-20个字符之间'\n    },\n    passwordInfo: {\n      lengthError: '长度只能在6-20个字符之间',\n      securityWaring: '密码强度低，有被盗风险',\n      securityInfo: '你的密码很安全'\n    },\n    passwordConfirmErrorInfo: {\n      notSameError: '两次输入的密码不一致'\n    },\n    phoneErrorInfo: {\n      error: '不是有效的手机号'\n    },\n    emailErrorInfo: {\n      error: '不是正确的邮箱地址'\n    },\n    questionErrorInfo: {\n      error: '忘记填密保问题了'\n    }\n  }, 'questionErrorInfo', {\n    error: '忘记填密保答案了'\n  }),\n  init: function init() {\n    this.load();\n    this.bind();\n  },\n  load: function load() {},\n  bind: function bind() {\n    var _this = this;\n\n    this.$form = $('.form');\n    this.$formItem = this.$form.find('.form-item');\n    this.$tipWrapper = this.$form.find('.tip-wrapper');\n\n    // 每个input框focus时显示提示信息，blur时取消显示\n    this.$form.find('.ipt').on('focus', function () {\n      var $tipWrapper = $(this).parent().next('.tip-wrapper');\n\n      if ($tipWrapper.hasClass('show')) {} else {\n        $tipWrapper.addClass('show').find('.tip').text($tipWrapper.find('.tip').data('default'));\n      }\n      $(this).siblings('.status-icon').hide();\n    }).on('blur', function () {\n      $(this).parent().next('.tip-wrapper').removeClass('show');\n    });\n\n    this.checkUsername($('#username'));\n    this.checkPassword($('#password'));\n    this.checkPasswordConfirm($('#password-confirm'));\n    this.checkPhoneNum($('#phone'));\n    this.checkEmail($('#email'));\n    this.checkQuestion($('#question'));\n    this.checkAnswer($('#answer'));\n\n    this.$submitBtn = $('.submit-btn');\n    var timer = void 0;\n    this.$submitBtn.on('click', function (e) {\n      e.preventDefault();\n      timer = setTimeout(function () {\n        var data = {\n          username: $('#username').val().trim(),\n          password: $('#password').val().trim(),\n          passwordConfirm: $('#password-confirm').val().trim(),\n          phone: $('#phone').val().trim(),\n          email: $('#email').val().trim(),\n          question: $('#question').val().trim(),\n          answer: $('#answer').val().trim()\n        };\n        if (_this.isValidUsername(data.username) && _this.isValidPassword(data.password) && _this.isSamePassword(data.password, data.passwordConfirm) && _this.isValidPhone(data.phone) && _this.isValidEmail(data.email) && _this.isValidQuestion(data.question) && _this.isValidAnswer(data.answer)) {\n          _user.register(data, function (res) {\n            alert(res.msg);\n            location.href = './index.html';\n          }, function (errMsg) {\n            alert(errMsg);\n          });\n        }\n      });\n    });\n  },\n\n  // 用户名验证\n  checkUsername: function checkUsername($ele) {\n    var _this = this;\n\n    // input完成包围框\n    var $formItem = $ele.parent();\n    // 信息提示icon\n    var $statusIcon = $formItem.find('.status-icon');\n    // 显示信息的tip-wrapper\n    var $tipWrapper = $ele.parent().next('.tip-wrapper');\n    // tip\n    var $tip = $tipWrapper.find('.tip');\n\n    $ele.on('blur', function () {\n      var username = $ele.val().trim();\n\n      // 本地验证用户名是否合法\n      var result = _this.isValidUsername(username);\n      /**\r\n       * ————当输入框为空时，重置样式\r\n       * 1. 本地验证出错导致form-item border变色\r\n       * 2. 本地验证出错导致tip文字变色\r\n       * 3. 远程验证成功或出错导致status-icon显示\r\n       * 4. 远程验证出错导致tip显示出来\r\n       * 5. tip验证信息跟随错误显示不同信息\r\n       */\n      if (!username) {\n        $formItem.removeClass('danger');\n        $statusIcon.hide();\n        $tip.text($tip.data('default'));\n        $tipWrapper.removeClass('danger').removeClass('show');\n        return;\n      }\n      /**\r\n       * ————当输入框本地弱验证失败时\r\n       * 1. 本地验证出错导致form-item border变色\r\n       * 2. 本地验证出错导致tip文字变色并显示不同信息\r\n       */\n      else if (!result.status) {\n          $formItem.addClass('danger');\n          $tipWrapper.addClass('danger show').find('.tip').text(result.msg);\n          return false;\n        }\n        /**\r\n         * ————本地验证OK，进行远程验证\r\n         */\n        else if (result.status) {\n            _user.checkUsername({\n              str: username\n            }, function (res) {\n              // 用户名合法\n              // 重置样式，添加正确样式，并显示\n              $formItem.removeClass('danger');\n              $statusIcon.removeClass('wrong').addClass('ok').show();\n              $tipWrapper.removeClass('show danger');\n            }, function (errMsg) {\n              // 用户名不合法\n              // 重置样式，添加错误样式，并显示\n              $formItem.removeClass('danger');\n              $statusIcon.removeClass('ok').addClass('wrong').show();\n              $tipWrapper.removeClass('danger').addClass('show').find('.tip').text(errMsg);\n            });\n          }\n    });\n  },\n  checkPassword: function checkPassword($ele) {\n    var _this = this;\n    // input完成包围框\n    var $formItem = $ele.parent();\n    // 信息提示icon\n    var $statusIcon = $formItem.find('.status-icon');\n    // 显示信息的tip-wrapper\n    var $tipWrapper = $ele.parent().next('.tip-wrapper');\n    // tip\n    var $tip = $tipWrapper.find('.tip');\n\n    /**\r\n     * 密码框blur判定两种情况\r\n     * 1. 若为空，去掉所有提示\r\n     * 2. 若有输入值，进行校验\r\n     *        2.1 result.status失败，form-item border及tip color变色\r\n     *        2.2 result.status成功，显示status-icon及密码强度信息\r\n     */\n    $ele.on('blur', function () {\n      var password = $ele.val().trim();\n      // 本地验证密码是否合法\n      var result = _this.isValidPassword(password);\n      /**\r\n       * ————当输入框为空时，重置样式\r\n       * 1. 本地验证出错导致form-item border变色\r\n       * 2. 本地验证出错导致tip文字变色\r\n       * 3. 远程验证成功或出错导致status-icon显示\r\n       * 4. 远程验证出错导致tip显示出来\r\n       * 5. tip验证信息跟随错误显示不同信息\r\n       */\n      if (!password) {\n        $formItem.removeClass('danger');\n        $statusIcon.hide();\n        $tip.text($tip.data('default'));\n        $tipWrapper.removeClass('danger').removeClass('show');\n        return;\n      }\n      /**\r\n       * ————当输入框本地弱验证失败时\r\n       * 1. 本地验证出错导致form-item border变色\r\n       * 2. 本地验证出错导致tip文字变色并显示不同信息\r\n       */\n      else if (!result.status) {\n          $formItem.addClass('danger');\n          $tipWrapper.addClass('danger show').find('.tip').text(result.msg);\n          return false;\n        } else if (result.status) {\n          $tip.text(result.msg);\n          $formItem.removeClass('danger');\n          $statusIcon.removeClass('wrong').addClass('ok').show();\n          $tipWrapper.removeClass('danger').addClass('show');\n        }\n    }).on('input', function () {\n      var password = $ele.val().trim();\n      // 本地验证密码是否合法\n      var result = _this.isValidPassword(password);\n\n      var $passwordConfirm = $('#password-confirm');\n      var $passwordConfirmStatusIcon = $passwordConfirm.siblings('.status-icon');\n      var password2 = $passwordConfirm.val().trim();\n      if (password2) $passwordConfirm.trigger('blur');\n\n      /**\r\n       * ————当输入框为空时，重置样式\r\n       * 1. 本地验证出错导致form-item border变色\r\n       * 2. 本地验证出错导致tip文字变色\r\n       * 3. 远程验证成功或出错导致status-icon显示\r\n       * 4. 远程验证出错导致tip显示出来\r\n       * 5. tip验证信息跟随错误显示不同信息\r\n       */\n      if (!password) {\n        $formItem.removeClass('danger');\n        $statusIcon.hide();\n        $tip.text($tip.data('default'));\n        $tipWrapper.removeClass('danger').removeClass('show');\n        return;\n      }\n      /**\r\n       * ————本地验证OK\r\n       */\n      else if (result.status) {\n          // 重置样式，添加正确样式，并显示\n          // 密码强度不够\n          $tip.text(result.msg);\n          $formItem.removeClass('danger');\n          $statusIcon.removeClass('wrong').addClass('ok').show();\n          $tipWrapper.removeClass('danger').addClass('show');\n          return;\n        } else {\n          $tip.text($tip.data('default'));\n          $formItem.removeClass('danger');\n          $statusIcon.removeClass('ok').addClass('wrong').show();\n          $tipWrapper.removeClass('danger').addClass('show');\n        }\n    });\n  },\n  checkPasswordConfirm: function checkPasswordConfirm($ele) {\n    var _this = this;\n    var $formItem = $ele.parent();\n    var $statusIcon = $formItem.find('.status-icon');\n    // 显示信息的tip-wrapper\n    var $tipWrapper = $ele.parent().next('.tip-wrapper');\n    // tip\n    var $tip = $tipWrapper.find('.tip');\n    $ele.on('blur', function () {\n      var password1 = $('#password').val().trim();\n      var password2 = $ele.val().trim();\n\n      if (!password2) {\n        $formItem.removeClass('danger');\n        $statusIcon.hide();\n        $tip.text($tip.data('default'));\n        $tipWrapper.removeClass('danger').removeClass('show');\n        return;\n      }\n      if (password1 === password2) {\n        $formItem.removeClass('danger');\n        $statusIcon.addClass('ok').show();\n        $tipWrapper.removeClass('danger show');\n      } else {\n        $formItem.addClass('danger');\n        $statusIcon.removeClass('ok').hide();\n        $tip.text(_this.data.passwordConfirmErrorInfo.notSameError);\n        $tipWrapper.addClass('danger show');\n      }\n    });\n  },\n  checkPhoneNum: function checkPhoneNum($ele) {\n    var _this = this;\n\n    // input完成包围框\n    var $formItem = $ele.parent();\n    // 信息提示icon\n    var $statusIcon = $formItem.find('.status-icon');\n    // 显示信息的tip-wrapper\n    var $tipWrapper = $ele.parent().next('.tip-wrapper');\n    // tip\n    var $tip = $tipWrapper.find('.tip');\n\n    $ele.on('blur', function () {\n      var phone = $ele.val().trim();\n      if (!phone) {\n        $formItem.removeClass('danger');\n        $tipWrapper.removeClass('danger show');\n        $statusIcon.removeClass('ok').hide();\n        $tip.text($tip.data('default'));\n        return;\n      }\n      var result = _this.isValidPhone(phone);\n      if (result.status) {\n        $formItem.removeClass('danger');\n        $statusIcon.addClass('ok').show();\n        $tipWrapper.removeClass('danger show');\n      } else if (!result.status) {\n        $formItem.addClass('danger');\n        $statusIcon.removeClass('ok').hide();\n        $tip.text(result.msg);\n        $tipWrapper.addClass('danger show');\n      }\n    });\n  },\n  checkEmail: function checkEmail($ele) {\n    var _this = this;\n\n    // input完成包围框\n    var $formItem = $ele.parent();\n    // 信息提示icon\n    var $statusIcon = $formItem.find('.status-icon');\n    // 显示信息的tip-wrapper\n    var $tipWrapper = $ele.parent().next('.tip-wrapper');\n    // tip\n    var $tip = $tipWrapper.find('.tip');\n\n    $ele.on('blur', function () {\n      var email = $ele.val().trim();\n      if (!email) {\n        $formItem.removeClass('danger');\n        $tipWrapper.removeClass('danger show');\n        $statusIcon.removeClass('ok').hide();\n        $tip.text($tip.data('default'));\n        return;\n      }\n      var result = _this.isValidEmail(email);\n      if (result.status) {\n        $formItem.removeClass('danger');\n        $statusIcon.addClass('ok').show();\n        $tipWrapper.removeClass('danger show');\n      } else if (!result.status) {\n        $formItem.addClass('danger');\n        $statusIcon.removeClass('ok').hide();\n        $tip.text(result.msg);\n        $tipWrapper.addClass('danger show');\n      }\n    });\n  },\n  checkQuestion: function checkQuestion($ele) {\n    var _this = this;\n\n    // input完成包围框\n    var $formItem = $ele.parent();\n    // 信息提示icon\n    var $statusIcon = $formItem.find('.status-icon');\n    // 显示信息的tip-wrapper\n    var $tipWrapper = $ele.parent().next('.tip-wrapper');\n    // tip\n    var $tip = $tipWrapper.find('.tip');\n\n    $ele.on('blur', function () {\n      var question = $ele.val().trim();\n      if (!question) {\n        $formItem.removeClass('danger');\n        $tipWrapper.removeClass('danger show');\n        $statusIcon.removeClass('ok').hide();\n        $tip.text($tip.data('default'));\n        return;\n      }\n      var result = _this.isValidQuestion(question);\n      if (result.status) {\n        $formItem.removeClass('danger');\n        $statusIcon.addClass('ok').show();\n        $tipWrapper.removeClass('danger show');\n      } else if (!result.status) {\n        $formItem.addClass('danger');\n        $statusIcon.removeClass('ok').hide();\n        $tip.text(result.msg);\n        $tipWrapper.addClass('danger show');\n      }\n    });\n  },\n  checkAnswer: function checkAnswer($ele) {\n    var _this = this;\n\n    // input完成包围框\n    var $formItem = $ele.parent();\n    // 信息提示icon\n    var $statusIcon = $formItem.find('.status-icon');\n    // 显示信息的tip-wrapper\n    var $tipWrapper = $ele.parent().next('.tip-wrapper');\n    // tip\n    var $tip = $tipWrapper.find('.tip');\n\n    $ele.on('blur', function () {\n      var answer = $ele.val().trim();\n      if (!answer) {\n        $formItem.removeClass('danger');\n        $tipWrapper.removeClass('danger show');\n        $statusIcon.removeClass('ok').hide();\n        $tip.text($tip.data('default'));\n        return;\n      }\n      var result = _this.isValidAnswer(answer);\n      if (result.status) {\n        $formItem.removeClass('danger');\n        $statusIcon.addClass('ok').show();\n        $tipWrapper.removeClass('danger show');\n      } else if (!result.status) {\n        $formItem.addClass('danger');\n        $statusIcon.removeClass('ok').hide();\n        $tip.text(result.msg);\n        $tipWrapper.addClass('danger show');\n      }\n    });\n  },\n  isValidUsername: function isValidUsername(name) {\n    var result = {\n      status: false,\n      msg: ''\n    };\n    name = name.trim() || '';\n    var reg = /^\\d+$/;\n    if (name.length < 4 || name.length > 20) {\n      result.msg = this.data.usernameErrorInfo.lengthError;\n      return result;\n    } else if (reg.test(name)) {\n      result.msg = this.data.usernameErrorInfo.numberError;\n      return result;\n    }\n    result.status = true;\n    return result;\n  },\n  isValidPassword: function isValidPassword(password) {\n    var result = {\n      status: false,\n      msg: ''\n    };\n\n    var reg = /^(\\d+|[a-z]+|[A-Z]+|_+)$/;\n\n    // ERROR\n    // 密码长度不够\n    if (password.length < 6 || password.length > 20) {\n      result.msg = this.data.passwordInfo.lengthError;\n      return result;\n    }\n    // Waring\n    // 密码只包括小写字母，数字，大写字母，下划线中的一种\n    else if (reg.test(password)) {\n        result.status = true;\n        result.msg = this.data.passwordInfo.securityWaring;\n        return result;\n      }\n    // 密码长度符合要求\n    result.status = true;\n    result.msg = this.data.passwordInfo.securityInfo;\n    return result;\n  },\n  isSamePassword: function isSamePassword(password1, password2) {\n    var result = {\n      status: false,\n      msg: ''\n    };\n\n    if (password1 !== password2) {\n      return result;\n    }\n    result.status = true;\n    return result;\n  },\n  isValidPhone: function isValidPhone(phone) {\n    var result = {\n      status: false,\n      msg: ''\n    };\n    if (_util.isPhoneNumber(phone)) {\n      result.status = true;\n      return result;\n    }\n    result.msg = this.data.phoneErrorInfo.error;\n    return result;\n  },\n  isValidEmail: function isValidEmail(email) {\n    var result = {\n      status: false,\n      msg: ''\n    };\n    if (_util.isEmail(email)) {\n      result.status = true;\n      return result;\n    }\n    result.msg = this.data.emailErrorInfo.error;\n    return result;\n  },\n  isValidQuestion: function isValidQuestion(question) {\n    var result = {\n      status: false,\n      msg: ''\n    };\n    if (_util.isRequired(question)) {\n      result.status = true;\n      return result;\n    }\n    result.msg = this.data.questionErrorInfo.error;\n    return result;\n  },\n  isValidAnswer: function isValidAnswer(answer) {\n    var result = {\n      status: false,\n      msg: ''\n    };\n    if (_util.isRequired(answer)) {\n      result.status = true;\n      return result;\n    }\n    result.msg = this.data.answerErrorInfo.error;\n    return result;\n  }\n};\n\n$(function () {\n  register.init();\n});\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(1)))\n\n/***/ }),\n\n/***/ 33:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ })\n\n},[31]);\n\n\n// WEBPACK FOOTER //\n// js/user-register.js","/*\r\n * @Author: guidetheorient \r\n * @Date: 2018-04-03 05:38:46 \r\n * @Last Modified by: guidetheorient\r\n * @Last Modified time: 2018-04-06 13:44:43\r\n */\r\n\r\nrequire('./index.scss');\r\n\r\nrequire('../components/simple-footer/index.js');\r\n\r\n\r\nconst _util = require('tool/util/util.js');\r\nconst _user = require('tool/service/user.js');\r\n\r\n\r\nlet register = {\r\n  data: {\r\n    formData: {\r\n      username: '',\r\n      password: '',\r\n      passwordConfirm: '',\r\n      phone: '',\r\n      question: '',\r\n      answer: ''\r\n    },\r\n    usernameErrorInfo: {\r\n      numberError: '用户名不能为纯数字，请重新输入',\r\n      lengthError: '长度只能在4-20个字符之间'\r\n    },\r\n    passwordInfo: {\r\n      lengthError: '长度只能在6-20个字符之间',\r\n      securityWaring: '密码强度低，有被盗风险',\r\n      securityInfo: '你的密码很安全'\r\n    },\r\n    passwordConfirmErrorInfo: {\r\n      notSameError: '两次输入的密码不一致'\r\n    },\r\n    phoneErrorInfo: {\r\n      error: '不是有效的手机号'\r\n    },\r\n    emailErrorInfo: {\r\n      error: '不是正确的邮箱地址'\r\n    },\r\n    questionErrorInfo: {\r\n      error: '忘记填密保问题了'\r\n    },\r\n    questionErrorInfo: {\r\n      error: '忘记填密保答案了'\r\n    }\r\n  },\r\n  init() {\r\n    this.load();\r\n    this.bind();\r\n  },\r\n  load() {\r\n\r\n  },\r\n  bind() {\r\n    let _this = this;\r\n\r\n    this.$form = $('.form');\r\n    this.$formItem = this.$form.find('.form-item');\r\n    this.$tipWrapper = this.$form.find('.tip-wrapper');\r\n\r\n    // 每个input框focus时显示提示信息，blur时取消显示\r\n    this.$form.find('.ipt')\r\n      .on('focus', function () {\r\n        let $tipWrapper = $(this).parent().next('.tip-wrapper')\r\n\r\n        if ($tipWrapper.hasClass('show')) {\r\n\r\n        } else {\r\n          $tipWrapper.addClass('show').find('.tip').text($tipWrapper.find('.tip').data('default'));\r\n        }\r\n        $(this).siblings('.status-icon').hide();\r\n      })\r\n      .on('blur', function () {\r\n        $(this).parent().next('.tip-wrapper').removeClass('show');\r\n      })\r\n\r\n    this.checkUsername($('#username'));\r\n    this.checkPassword($('#password'));\r\n    this.checkPasswordConfirm($('#password-confirm'));\r\n    this.checkPhoneNum($('#phone'));\r\n    this.checkEmail($('#email'));\r\n    this.checkQuestion($('#question'));\r\n    this.checkAnswer($('#answer'));\r\n\r\n    this.$submitBtn = $('.submit-btn');\r\n    let timer;\r\n    this.$submitBtn.on('click', function(e){\r\n      e.preventDefault();\r\n      timer = setTimeout(() => {\r\n        let data = {\r\n          username: $('#username').val().trim(),\r\n          password: $('#password').val().trim(),\r\n          passwordConfirm: $('#password-confirm').val().trim(),\r\n          phone: $('#phone').val().trim(),\r\n          email: $('#email').val().trim(),\r\n          question: $('#question').val().trim(),\r\n          answer: $('#answer').val().trim()\r\n        }; \r\n        if(_this.isValidUsername(data.username) &&\r\n           _this.isValidPassword(data.password) &&\r\n           _this.isSamePassword(data.password, data.passwordConfirm) &&\r\n           _this.isValidPhone(data.phone) &&\r\n           _this.isValidEmail(data.email) &&\r\n           _this.isValidQuestion(data.question) &&\r\n           _this.isValidAnswer(data.answer)\r\n        ){\r\n          _user.register(data,\r\n          function (res) {\r\n            alert(res.msg);\r\n            location.href = './index.html';\r\n          },function(errMsg){\r\n            alert(errMsg);\r\n          })\r\n        }\r\n      })  \r\n    })\r\n  },\r\n  // 用户名验证\r\n  checkUsername($ele) {\r\n    let _this = this;\r\n\r\n    // input完成包围框\r\n    let $formItem = $ele.parent();\r\n    // 信息提示icon\r\n    let $statusIcon = $formItem.find('.status-icon');\r\n    // 显示信息的tip-wrapper\r\n    let $tipWrapper = $ele.parent().next('.tip-wrapper');\r\n    // tip\r\n    let $tip = $tipWrapper.find('.tip');\r\n\r\n    $ele.on('blur', function () {\r\n      let username = $ele.val().trim();\r\n\r\n      // 本地验证用户名是否合法\r\n      let result = _this.isValidUsername(username);\r\n      /**\r\n       * ————当输入框为空时，重置样式\r\n       * 1. 本地验证出错导致form-item border变色\r\n       * 2. 本地验证出错导致tip文字变色\r\n       * 3. 远程验证成功或出错导致status-icon显示\r\n       * 4. 远程验证出错导致tip显示出来\r\n       * 5. tip验证信息跟随错误显示不同信息\r\n       */\r\n      if (!username) {\r\n        $formItem.removeClass('danger');\r\n        $statusIcon.hide();\r\n        $tip.text($tip.data('default'));\r\n        $tipWrapper.removeClass('danger').removeClass('show');\r\n        return;\r\n      }\r\n      /**\r\n       * ————当输入框本地弱验证失败时\r\n       * 1. 本地验证出错导致form-item border变色\r\n       * 2. 本地验证出错导致tip文字变色并显示不同信息\r\n       */\r\n      else if (!result.status) {\r\n        $formItem.addClass('danger')\r\n        $tipWrapper.addClass('danger show').find('.tip').text(result.msg);\r\n        return false;\r\n      }\r\n      /**\r\n       * ————本地验证OK，进行远程验证\r\n       */\r\n      else if (result.status) {\r\n        _user.checkUsername({\r\n          str: username,\r\n        }, function (res) {\r\n          // 用户名合法\r\n          // 重置样式，添加正确样式，并显示\r\n          $formItem.removeClass('danger');\r\n          $statusIcon.removeClass('wrong').addClass('ok').show();\r\n          $tipWrapper.removeClass('show danger');\r\n        }, function (errMsg) {\r\n          // 用户名不合法\r\n          // 重置样式，添加错误样式，并显示\r\n          $formItem.removeClass('danger');\r\n          $statusIcon.removeClass('ok').addClass('wrong').show();\r\n          $tipWrapper.removeClass('danger').addClass('show').find('.tip').text(errMsg);\r\n        })\r\n      }\r\n    })\r\n  },\r\n  checkPassword($ele) {\r\n    let _this = this;\r\n    // input完成包围框\r\n    let $formItem = $ele.parent();\r\n    // 信息提示icon\r\n    let $statusIcon = $formItem.find('.status-icon');\r\n    // 显示信息的tip-wrapper\r\n    let $tipWrapper = $ele.parent().next('.tip-wrapper');\r\n    // tip\r\n    let $tip = $tipWrapper.find('.tip');\r\n\r\n    /**\r\n     * 密码框blur判定两种情况\r\n     * 1. 若为空，去掉所有提示\r\n     * 2. 若有输入值，进行校验\r\n     *        2.1 result.status失败，form-item border及tip color变色\r\n     *        2.2 result.status成功，显示status-icon及密码强度信息\r\n     */\r\n    $ele.on('blur', function () {\r\n      let password = $ele.val().trim();\r\n      // 本地验证密码是否合法\r\n      let result = _this.isValidPassword(password);\r\n      /**\r\n       * ————当输入框为空时，重置样式\r\n       * 1. 本地验证出错导致form-item border变色\r\n       * 2. 本地验证出错导致tip文字变色\r\n       * 3. 远程验证成功或出错导致status-icon显示\r\n       * 4. 远程验证出错导致tip显示出来\r\n       * 5. tip验证信息跟随错误显示不同信息\r\n       */\r\n      if (!password) {\r\n        $formItem.removeClass('danger');\r\n        $statusIcon.hide();\r\n        $tip.text($tip.data('default'));\r\n        $tipWrapper.removeClass('danger').removeClass('show');\r\n        return;\r\n      }\r\n      /**\r\n       * ————当输入框本地弱验证失败时\r\n       * 1. 本地验证出错导致form-item border变色\r\n       * 2. 本地验证出错导致tip文字变色并显示不同信息\r\n       */\r\n      else if (!result.status) {\r\n        $formItem.addClass('danger')\r\n        $tipWrapper.addClass('danger show').find('.tip').text(result.msg);\r\n        return false;\r\n      } else if (result.status) {\r\n        $tip.text(result.msg);\r\n        $formItem.removeClass('danger');\r\n        $statusIcon.removeClass('wrong').addClass('ok').show();\r\n        $tipWrapper.removeClass('danger').addClass('show');\r\n      }\r\n    }).on('input', function () {\r\n      let password = $ele.val().trim();\r\n      // 本地验证密码是否合法\r\n      let result = _this.isValidPassword(password);\r\n\r\n      let $passwordConfirm = $('#password-confirm');\r\n      let $passwordConfirmStatusIcon = $passwordConfirm.siblings('.status-icon');\r\n      let password2 = $passwordConfirm.val().trim();\r\n      if (password2) $passwordConfirm.trigger('blur')\r\n\r\n      /**\r\n       * ————当输入框为空时，重置样式\r\n       * 1. 本地验证出错导致form-item border变色\r\n       * 2. 本地验证出错导致tip文字变色\r\n       * 3. 远程验证成功或出错导致status-icon显示\r\n       * 4. 远程验证出错导致tip显示出来\r\n       * 5. tip验证信息跟随错误显示不同信息\r\n       */\r\n      if (!password) {\r\n        $formItem.removeClass('danger');\r\n        $statusIcon.hide();\r\n        $tip.text($tip.data('default'));\r\n        $tipWrapper.removeClass('danger').removeClass('show');\r\n        return;\r\n      }\r\n      /**\r\n       * ————本地验证OK\r\n       */\r\n      else if (result.status) {\r\n        // 重置样式，添加正确样式，并显示\r\n        // 密码强度不够\r\n        $tip.text(result.msg);\r\n        $formItem.removeClass('danger');\r\n        $statusIcon.removeClass('wrong').addClass('ok').show();\r\n        $tipWrapper.removeClass('danger').addClass('show');\r\n        return\r\n      } else {\r\n        $tip.text($tip.data('default'));\r\n        $formItem.removeClass('danger');\r\n        $statusIcon.removeClass('ok').addClass('wrong').show();\r\n        $tipWrapper.removeClass('danger').addClass('show');\r\n      }\r\n    })\r\n  },\r\n  checkPasswordConfirm($ele) {\r\n    let _this = this;\r\n    let $formItem = $ele.parent();\r\n    let $statusIcon = $formItem.find('.status-icon');\r\n    // 显示信息的tip-wrapper\r\n    let $tipWrapper = $ele.parent().next('.tip-wrapper');\r\n    // tip\r\n    let $tip = $tipWrapper.find('.tip');\r\n    $ele.on('blur', function () {\r\n      let password1 = $('#password').val().trim();\r\n      let password2 = $ele.val().trim();\r\n\r\n      if (!password2) {\r\n        $formItem.removeClass('danger');\r\n        $statusIcon.hide();\r\n        $tip.text($tip.data('default'));\r\n        $tipWrapper.removeClass('danger').removeClass('show');\r\n        return;\r\n      }\r\n      if (password1 === password2) {\r\n        $formItem.removeClass('danger');\r\n        $statusIcon.addClass('ok').show();\r\n        $tipWrapper.removeClass('danger show')\r\n      } else {\r\n        $formItem.addClass('danger');\r\n        $statusIcon.removeClass('ok').hide();\r\n        $tip.text(_this.data.passwordConfirmErrorInfo.notSameError);\r\n        $tipWrapper.addClass('danger show')\r\n      }\r\n    })\r\n  },\r\n  checkPhoneNum($ele) {\r\n    let _this = this;\r\n\r\n    // input完成包围框\r\n    let $formItem = $ele.parent();\r\n    // 信息提示icon\r\n    let $statusIcon = $formItem.find('.status-icon');\r\n    // 显示信息的tip-wrapper\r\n    let $tipWrapper = $ele.parent().next('.tip-wrapper');\r\n    // tip\r\n    let $tip = $tipWrapper.find('.tip');\r\n\r\n    $ele.on('blur', function () {\r\n      let phone = $ele.val().trim()\r\n      if (!phone) {\r\n        $formItem.removeClass('danger');\r\n        $tipWrapper.removeClass('danger show');\r\n        $statusIcon.removeClass('ok').hide();\r\n        $tip.text($tip.data('default'));\r\n        return;\r\n      }\r\n      let result = _this.isValidPhone(phone);\r\n      if (result.status) {\r\n        $formItem.removeClass('danger');\r\n        $statusIcon.addClass('ok').show();\r\n        $tipWrapper.removeClass('danger show');\r\n      } else if (!result.status) {\r\n        $formItem.addClass('danger');\r\n        $statusIcon.removeClass('ok').hide();\r\n        $tip.text(result.msg);\r\n        $tipWrapper.addClass('danger show')\r\n      }\r\n    })\r\n  },\r\n  checkEmail($ele) {\r\n    let _this = this;\r\n\r\n    // input完成包围框\r\n    let $formItem = $ele.parent();\r\n    // 信息提示icon\r\n    let $statusIcon = $formItem.find('.status-icon');\r\n    // 显示信息的tip-wrapper\r\n    let $tipWrapper = $ele.parent().next('.tip-wrapper');\r\n    // tip\r\n    let $tip = $tipWrapper.find('.tip');\r\n\r\n    $ele.on('blur', function () {\r\n      let email = $ele.val().trim()\r\n      if (!email) {\r\n        $formItem.removeClass('danger');\r\n        $tipWrapper.removeClass('danger show');\r\n        $statusIcon.removeClass('ok').hide();\r\n        $tip.text($tip.data('default'));\r\n        return;\r\n      }\r\n      let result = _this.isValidEmail(email);\r\n      if (result.status) {\r\n        $formItem.removeClass('danger');\r\n        $statusIcon.addClass('ok').show();\r\n        $tipWrapper.removeClass('danger show');\r\n      } else if (!result.status) {\r\n        $formItem.addClass('danger');\r\n        $statusIcon.removeClass('ok').hide();\r\n        $tip.text(result.msg);\r\n        $tipWrapper.addClass('danger show')\r\n      }\r\n    })\r\n  },\r\n  checkQuestion($ele) {\r\n    let _this = this;\r\n\r\n    // input完成包围框\r\n    let $formItem = $ele.parent();\r\n    // 信息提示icon\r\n    let $statusIcon = $formItem.find('.status-icon');\r\n    // 显示信息的tip-wrapper\r\n    let $tipWrapper = $ele.parent().next('.tip-wrapper');\r\n    // tip\r\n    let $tip = $tipWrapper.find('.tip');\r\n\r\n    $ele.on('blur', function () {\r\n      let question = $ele.val().trim()\r\n      if (!question) {\r\n        $formItem.removeClass('danger');\r\n        $tipWrapper.removeClass('danger show');\r\n        $statusIcon.removeClass('ok').hide();\r\n        $tip.text($tip.data('default'));\r\n        return;\r\n      }\r\n      let result = _this.isValidQuestion(question);\r\n      if (result.status) {\r\n        $formItem.removeClass('danger');\r\n        $statusIcon.addClass('ok').show();\r\n        $tipWrapper.removeClass('danger show');\r\n      } else if (!result.status) {\r\n        $formItem.addClass('danger');\r\n        $statusIcon.removeClass('ok').hide();\r\n        $tip.text(result.msg);\r\n        $tipWrapper.addClass('danger show')\r\n      }\r\n    })\r\n  },\r\n  checkAnswer($ele) {\r\n    let _this = this;\r\n\r\n    // input完成包围框\r\n    let $formItem = $ele.parent();\r\n    // 信息提示icon\r\n    let $statusIcon = $formItem.find('.status-icon');\r\n    // 显示信息的tip-wrapper\r\n    let $tipWrapper = $ele.parent().next('.tip-wrapper');\r\n    // tip\r\n    let $tip = $tipWrapper.find('.tip');\r\n\r\n    $ele.on('blur', function () {\r\n      let answer = $ele.val().trim()\r\n      if (!answer) {\r\n        $formItem.removeClass('danger');\r\n        $tipWrapper.removeClass('danger show');\r\n        $statusIcon.removeClass('ok').hide();\r\n        $tip.text($tip.data('default'));\r\n        return;\r\n      }\r\n      let result = _this.isValidAnswer(answer);\r\n      if (result.status) {\r\n        $formItem.removeClass('danger');\r\n        $statusIcon.addClass('ok').show();\r\n        $tipWrapper.removeClass('danger show');\r\n      } else if (!result.status) {\r\n        $formItem.addClass('danger');\r\n        $statusIcon.removeClass('ok').hide();\r\n        $tip.text(result.msg);\r\n        $tipWrapper.addClass('danger show')\r\n      }\r\n    })\r\n  },\r\n  isValidUsername(name) {\r\n    let result = {\r\n      status: false,\r\n      msg: ''\r\n    }\r\n    name = name.trim() || '';\r\n    let reg = /^\\d+$/\r\n    if (name.length < 4 || name.length > 20) {\r\n      result.msg = this.data.usernameErrorInfo.lengthError;\r\n      return result;\r\n    } else if (reg.test(name)) {\r\n      result.msg = this.data.usernameErrorInfo.numberError;\r\n      return result;\r\n    }\r\n    result.status = true;\r\n    return result;\r\n  },\r\n  isValidPassword(password) {\r\n    let result = {\r\n      status: false,\r\n      msg: ''\r\n    }\r\n\r\n    let reg = /^(\\d+|[a-z]+|[A-Z]+|_+)$/\r\n\r\n    // ERROR\r\n    // 密码长度不够\r\n    if (password.length < 6 || password.length > 20) {\r\n      result.msg = this.data.passwordInfo.lengthError;\r\n      return result;\r\n    }\r\n    // Waring\r\n    // 密码只包括小写字母，数字，大写字母，下划线中的一种\r\n    else if (reg.test(password)) {\r\n      result.status = true;\r\n      result.msg = this.data.passwordInfo.securityWaring;\r\n      return result;\r\n    }\r\n    // 密码长度符合要求\r\n    result.status = true;\r\n    result.msg = this.data.passwordInfo.securityInfo;\r\n    return result;\r\n  },\r\n  isSamePassword(password1, password2) {\r\n    let result = {\r\n      status: false,\r\n      msg: ''\r\n    }\r\n\r\n    if (password1 !== password2) {\r\n      return result;\r\n    }\r\n    result.status = true;\r\n    return result;\r\n  },\r\n  isValidPhone(phone) {\r\n    let result = {\r\n      status: false,\r\n      msg: ''\r\n    }\r\n    if (_util.isPhoneNumber(phone)) {\r\n      result.status = true;\r\n      return result;\r\n    }\r\n    result.msg = this.data.phoneErrorInfo.error;\r\n    return result;\r\n  },\r\n  isValidEmail(email) {\r\n    let result = {\r\n      status: false,\r\n      msg: ''\r\n    }\r\n    if (_util.isEmail(email)) {\r\n      result.status = true;\r\n      return result;\r\n    }\r\n    result.msg = this.data.emailErrorInfo.error;\r\n    return result;\r\n  },\r\n  isValidQuestion(question) {\r\n    let result = {\r\n      status: false,\r\n      msg: ''\r\n    }\r\n    if (_util.isRequired(question)) {\r\n      result.status = true;\r\n      return result;\r\n    }\r\n    result.msg = this.data.questionErrorInfo.error;\r\n    return result;\r\n  },\r\n  isValidAnswer(answer) {\r\n    let result = {\r\n      status: false,\r\n      msg: ''\r\n    }\r\n    if (_util.isRequired(answer)) {\r\n      result.status = true;\r\n      return result;\r\n    }\r\n    result.msg = this.data.answerErrorInfo.error;\r\n    return result;\r\n  }\r\n}\r\n\r\n\r\n$(function () {\r\n  register.init();\r\n})\n\n\n// WEBPACK FOOTER //\n// ./src/pages/user-register/index.js"],"sourceRoot":""}