webpackJsonp([2],{34:function(a,e,i){a.exports=i(35)},35:function(a,e,i){"use strict";(function(a){i(4),i(6),i(2),i(37);var e=i(0),t=i(7),s=i(38),n=i(39),l={data:{para:{categoryId:e.getUrlQuery("categoryId")||"",keyword:e.getUrlQuery("keyword")||"",pageNum:e.getUrlQuery("pageNum")||1,pageSize:e.getUrlQuery("pageSize")||10,orderBy:e.getUrlQuery("keyword")||""}},init:function(){this.load(),this.bind()},load:function(){var i=this;this.data.keyword=this.data.para.keyword,this.data.keyword&&(this.data.para.categoryId?delete this.data.para.keyword:delete this.data.para.categoryId,t.getList(this.data.para,function(t){console.log(t),a(".list>ul").html(e.renderHtml(s,t.data.list)),i.bindDetail(),a(".crumb-wrapper .keyword").text(i.data.keyword),a(".filter .count").text(t.data.total),i.loadPagination({hasPreviousPage:t.data.hasPreviousPage,hasNextPage:t.data.hasNextPage,pages:t.data.pages,pageNum:t.data.pageNum,isFirstPage:t.data.isFirstPage,isLastPage:t.data.isLastPage})},function(a){}))},bind:function(){},loadPagination:function(e){this.pagination||(this.pagination=new n,this.bindEventAfterPagination()),this.pagination.render(a.extend({},e,{$container:a(".pagination>ul")}))},bindEventAfterPagination:function(){var e=this,i=a("#default"),t=a("#price");i.on("click",function(i){var t=a(this);t.hasClass("active")||(e.data.para.orderBy="",e.load(),t.addClass("active").siblings().removeClass("active"))}),t.on("click",function(i){var t=a(this);t.hasClass("active")?t.hasClass("asc")?(e.data.para.orderBy="price_desc",e.load(),t.removeClass("asc").addClass("desc").siblings().removeClass("active")):t.hasClass("desc")&&(e.data.para.orderBy="price_asc",e.load(),t.removeClass("desc").addClass("asc").siblings().removeClass("active")):(e.data.para.orderBy="price_asc",e.load(),t.addClass("active asc").siblings().removeClass("active"))}),a(".pagination>ul").on("click","li",function(i){var t=a(this);t.hasClass("active")||(t.hasClass("pre-page")&&!t.hasClass("disable")?(e.data.para.pageNum-=1,e.load()):t.hasClass("next-page")&&!t.hasClass("disable")?(e.data.para.pageNum+=1,e.load()):(e.data.para.pageNum=t.index(),e.load(),a(this).addClass("active").siblings(".item").removeClass("active")))})},bindDetail:function(){a(".list>ul").on("click","li",function(e){var i=a(this).data("id");i&&(location.href="./product-detail.html?productId="+i)})}};a(function(){l.init()})}).call(e,i(1))},37:function(a,e){},38:function(a,e){a.exports='<% if (!data.length) { %> <p class=error-tip>很抱歉，实在找不到您要的商品。</p> <% } else { %> <% data.forEach(value => {%> <li data-id="<%=value.id%>"> <a><img src="<%=value.imageHost + value.mainImage%>" alt=""></a> <p class=price>$ <span class=num><%= value.price %></span></p> <p class=desc><%=value.name%></p> </li> <% }) %> <% }%>'},39:function(a,e,i){"use strict";function t(a,e){if(!(a instanceof e))throw new TypeError("Cannot call a class as a function")}var s=function(){function a(a,e){for(var i=0;i<e.length;i++){var t=e[i];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(a,t.key,t)}}return function(e,i,t){return i&&a(e.prototype,i),t&&a(e,t),e}}(),n=i(0),l=i(40),r=function(){function a(){t(this,a)}return s(a,[{key:"render",value:function(a){if(a.pages){var e=n.renderHtml(l,{hasPreviousPage:a.hasPreviousPage,hasNextPage:a.hasNextPage,curPage:a.pageNum,pages:a.pages});a.$container.html(e)}}}]),a}();a.exports=r},40:function(a,e){a.exports=' <%if(data.hasPreviousPage) {%> <li class=pre-page> <i class="fa fa-angle-left"></i> <span>上一页</span> </li> <%} else {%> <li class="pre-page disable"> <i class="fa fa-angle-left"></i> <span>上一页</span> </li> <%}%> <%if(data.pages) {%> <%for(let i = 1; i < data.pages+1; i++) {%> <%if(data.curPage === i) {%> <li class="active item"><%=i%></li> <%}else{%> <li class=item><%=i%></li> <%}%> <%}%> <%}%> <%if(data.hasNextPage) {%> <li class=next-page> <span>下一页</span> <i class="fa fa-angle-right"></i> </li> <%} else {%> <li class="next-page disable"> <span>下一页</span> <i class="fa fa-angle-right"></i> </li> <%}%>'}},[34]);
//# sourceMappingURL=product-search.js.map