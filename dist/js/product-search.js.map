{"version":3,"sources":["webpack:///js/product-search.js","webpack:///./src/pages/product-search/index.js","webpack:///./src/pages/product-search/index.ejs","webpack:///./src/tool/util/pagination/index.js","webpack:///./src/tool/util/pagination/index.ejs"],"names":["webpackJsonp","34","module","exports","__webpack_require__","35","$","_util","_product","tpl","_pagination","productSearch","data","para","categoryId","getUrlQuery","keyword","pageNum","pageSize","orderBy","init","this","load","bind","_this","getList","res","console","log","html","renderHtml","list","bindDetail","text","total","loadPagination","hasPreviousPage","hasNextPage","pages","isFirstPage","isLastPage","errMsg","pagination","bindEventAfterPagination","render","extend","$container","$defaultBtn","$priceBtn","on","e","$this","hasClass","addClass","siblings","removeClass","index","id","location","href","call","37","38","39","_classCallCheck","instance","Constructor","TypeError","_createClass","defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","protoProps","staticProps","prototype","value","curPage","40"],"mappings":"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","file":"js/product-search.js","sourcesContent":["webpackJsonp([2],{\n\n/***/ 34:\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__(35);\n\n\n/***/ }),\n\n/***/ 35:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function($) {\n\n/*\r\n * @Author: guidetheorient \r\n * @Date: 2018-04-06 17:37:46 \r\n * @Last Modified by: guidetheorient\r\n * @Last Modified time: 2018-04-07 13:04:29\r\n */\n\n// header js&css\n__webpack_require__(4);\n\n// header-search js&css\n__webpack_require__(5);\n\n// simple-footer js&css\n__webpack_require__(2);\n\n// css\n__webpack_require__(37);\n\n// util工具类\nvar _util = __webpack_require__(0);\n// const _needDelay = require('tool/util/menu-need-delay.js');\n\n\nvar _product = __webpack_require__(8);\n\nvar tpl = __webpack_require__(38);\n\nvar _pagination = __webpack_require__(39);\n\nvar productSearch = {\n  data: {\n    para: {\n      categoryId: _util.getUrlQuery('categoryId') || '',\n      keyword: _util.getUrlQuery('keyword') || '',\n      pageNum: _util.getUrlQuery('pageNum') || 1,\n      pageSize: _util.getUrlQuery('pageSize') || 10,\n      orderBy: _util.getUrlQuery('keyword') || ''\n    }\n  },\n  init: function init() {\n    this.load();\n    this.bind();\n  },\n  load: function load() {\n    var _this = this;\n    this.data.keyword = this.data.para.keyword;\n    if (this.data.keyword) {\n      this.data.para.categoryId ? delete this.data.para.keyword : delete this.data.para.categoryId;\n\n      _product.getList(this.data.para, function (res) {\n        console.log(res);\n        // 渲染商品列表\n        $('.list>ul').html(_util.renderHtml(tpl, res.data.list));\n        _this.bindDetail();\n\n        // 搜索关键词\n        $('.crumb-wrapper .keyword').text(_this.data.keyword);\n        // 搜索结果数量\n        $('.filter .count').text(res.data.total);\n        _this.loadPagination({\n          // 是否有前一页\n          hasPreviousPage: res.data.hasPreviousPage,\n          // 是否有后一页\n          hasNextPage: res.data.hasNextPage,\n          // 共有几页\n          pages: res.data.pages,\n          // 当前是第几页\n          pageNum: res.data.pageNum,\n          // \n          isFirstPage: res.data.isFirstPage,\n          //\n          isLastPage: res.data.isLastPage\n        });\n      }, function (errMsg) {});\n    }\n  },\n  bind: function bind() {},\n\n  // 加载分页插件\n  loadPagination: function loadPagination(para) {\n    if (!this.pagination) {\n      this.pagination = new _pagination();\n      this.bindEventAfterPagination();\n    }\n    this.pagination.render($.extend({}, para, {\n      $container: $('.pagination>ul')\n    }));\n  },\n  bindEventAfterPagination: function bindEventAfterPagination() {\n    var _this = this;\n    var $defaultBtn = $('#default');\n    var $priceBtn = $('#price');\n\n    $defaultBtn.on('click', function (e) {\n      var $this = $(this);\n\n      if ($this.hasClass('active')) {\n        return;\n      } else {\n        _this.data.para.orderBy = '';\n        _this.load();\n        $this.addClass('active').siblings().removeClass('active');\n      }\n    });\n    $priceBtn.on('click', function (e) {\n      var $this = $(this);\n\n      // 如果没有active\n      if (!$this.hasClass('active')) {\n        _this.data.para.orderBy = 'price_asc';\n        _this.load();\n        $this.addClass('active asc').siblings().removeClass('active');\n      }\n      // 如果是是升序 asc\n      else if ($this.hasClass('asc')) {\n          _this.data.para.orderBy = 'price_desc';\n          _this.load();\n          $this.removeClass('asc').addClass('desc').siblings().removeClass('active');\n        } else if ($this.hasClass('desc')) {\n          _this.data.para.orderBy = 'price_asc';\n          _this.load();\n          $this.removeClass('desc').addClass('asc').siblings().removeClass('active');\n        }\n    });\n\n    var $pagination = $('.pagination>ul');\n    $pagination.on('click', 'li', function (e) {\n      var $this = $(this);\n      // 如果点击的是当前页，return\n      if ($this.hasClass('active')) {\n        return;\n      }\n      // 点击前一页，并且前一页没有disable\n      else if ($this.hasClass('pre-page') && !$this.hasClass('disable')) {\n          _this.data.para.pageNum -= 1;\n          _this.load();\n        }\n        // 点击下一页，并且下一页没有disable\n        else if ($this.hasClass('next-page') && !$this.hasClass('disable')) {\n            _this.data.para.pageNum += 1;\n            _this.load();\n          }\n          // 点击的是页码按钮\n          else {\n              _this.data.para.pageNum = $this.index();\n              _this.load();\n              $(this).addClass('active').siblings('.item').removeClass('active');\n            }\n    });\n  },\n  bindDetail: function bindDetail() {\n    var _this = this;\n    var $list = $('.list>ul');\n    $list.on('click', 'li', function (e) {\n      var id = $(this).data('id');\n      if (id) {\n        location.href = './product-detail.html?productId=' + id;\n      }\n    });\n  }\n};\n\n$(function () {\n  productSearch.init();\n});\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(1)))\n\n/***/ }),\n\n/***/ 37:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 38:\n/***/ (function(module, exports) {\n\nmodule.exports = \"<% if (!data.length) { %> <p class=error-tip>很抱歉，实在找不到您要的商品。</p> <% } else { %> <% data.forEach(value => {%> <li data-id=\\\"<%=value.id%>\\\"> <a><img src=\\\"<%=value.imageHost + value.mainImage%>\\\" alt=\\\"\\\"></a> <p class=price>$ <span class=num><%= value.price %></span></p> <p class=desc><%=value.name%></p> </li> <% }) %> <% }%>\";\n\n/***/ }),\n\n/***/ 39:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/*\r\n * @Author: guidetheorient \r\n * @Date: 2018-04-07 10:38:19 \r\n * @Last Modified by: guidetheorient\r\n * @Last Modified time: 2018-04-07 12:31:37\r\n */\n\nvar _util = __webpack_require__(0);\n\nvar tpl = __webpack_require__(40);\n\nvar pagination = function () {\n  function pagination() {\n    _classCallCheck(this, pagination);\n  }\n\n  /**\r\n  // 是否有前一页\r\n  hasPreviousPage: res.data.hasPreviousPage,\r\n  // 是否有后一页\r\n  hasNextPage: res.data.hasNextPage,\r\n  // 共有几页\r\n  pages: res.data.pages,\r\n  // 当前是第几页\r\n  pageNum: res.data.pageNum,\r\n  // \r\n  isFirstPage: res.data.isFirstPage,\r\n  //\r\n  isLastPage: res.data.isLastPage\r\n  // container\r\n  $container: $(\".pagination>ul\")\r\n   */\n\n\n  _createClass(pagination, [{\n    key: 'render',\n    value: function render(para) {\n      if (!para.pages) {\n        return;\n      } else {\n        var html = _util.renderHtml(tpl, {\n          hasPreviousPage: para.hasPreviousPage,\n          hasNextPage: para.hasNextPage,\n          curPage: para.pageNum,\n          pages: para.pages\n        });\n        para.$container.html(html);\n      }\n    }\n  }]);\n\n  return pagination;\n}();\n\nmodule.exports = pagination;\n\n/***/ }),\n\n/***/ 40:\n/***/ (function(module, exports) {\n\nmodule.exports = \" <%if(data.hasPreviousPage) {%> <li class=pre-page> <i class=\\\"fa fa-angle-left\\\"></i> <span>上一页</span> </li> <%} else {%> <li class=\\\"pre-page disable\\\"> <i class=\\\"fa fa-angle-left\\\"></i> <span>上一页</span> </li> <%}%> <%if(data.pages) {%> <%for(let i = 1; i < data.pages+1; i++) {%> <%if(data.curPage === i) {%> <li class=\\\"active item\\\"><%=i%></li> <%}else{%> <li class=item><%=i%></li> <%}%> <%}%> <%}%> <%if(data.hasNextPage) {%> <li class=next-page> <span>下一页</span> <i class=\\\"fa fa-angle-right\\\"></i> </li> <%} else {%> <li class=\\\"next-page disable\\\"> <span>下一页</span> <i class=\\\"fa fa-angle-right\\\"></i> </li> <%}%>\";\n\n/***/ })\n\n},[34]);\n\n\n// WEBPACK FOOTER //\n// js/product-search.js","/*\r\n * @Author: guidetheorient \r\n * @Date: 2018-04-06 17:37:46 \r\n * @Last Modified by: guidetheorient\r\n * @Last Modified time: 2018-04-07 13:04:29\r\n */\r\n\r\n// header js&css\r\nrequire('pages/components/header/index.js');\r\n\r\n// header-search js&css\r\nrequire('pages/components/header-search-simple/index.js');\r\n\r\n// simple-footer js&css\r\nrequire('pages/components/simple-footer/index.js');\r\n\r\n// css\r\nrequire('./index.scss')\r\n\r\n// util工具类\r\nconst _util = require('tool/util/util.js');\r\n// const _needDelay = require('tool/util/menu-need-delay.js');\r\n\r\n\r\nconst _product = require('tool/service/product.js');\r\n\r\n\r\nconst tpl = require('./index.ejs');\r\n\r\nconst _pagination = require('tool/util/pagination/index.js');\r\n\r\nlet productSearch = {\r\n  data:{\r\n    para: {\r\n      categoryId: _util.getUrlQuery('categoryId') || '',\r\n      keyword: _util.getUrlQuery('keyword') || '',\r\n      pageNum: _util.getUrlQuery('pageNum') || 1,\r\n      pageSize: _util.getUrlQuery('pageSize') || 10,\r\n      orderBy: _util.getUrlQuery('keyword') || ''\r\n    }\r\n  },\r\n  init(){\r\n    this.load();\r\n    this.bind();\r\n  },\r\n  load(){\r\n    let _this = this;\r\n    this.data.keyword = this.data.para.keyword;\r\n    if(this.data.keyword){\r\n      this.data.para.categoryId ? delete this.data.para.keyword : delete this.data.para.categoryId;\r\n      \r\n      _product.getList(this.data.para ,function(res){\r\n        console.log(res)\r\n        // 渲染商品列表\r\n        $('.list>ul').html(_util.renderHtml(tpl, res.data.list));\r\n        _this.bindDetail();\r\n\r\n        // 搜索关键词\r\n        $('.crumb-wrapper .keyword').text(_this.data.keyword);\r\n        // 搜索结果数量\r\n        $('.filter .count').text(res.data.total);\r\n        _this.loadPagination({\r\n          // 是否有前一页\r\n          hasPreviousPage: res.data.hasPreviousPage,\r\n          // 是否有后一页\r\n          hasNextPage: res.data.hasNextPage,\r\n          // 共有几页\r\n          pages: res.data.pages,\r\n          // 当前是第几页\r\n          pageNum: res.data.pageNum,\r\n          // \r\n          isFirstPage: res.data.isFirstPage,\r\n          //\r\n          isLastPage: res.data.isLastPage\r\n        })\r\n      },function(errMsg){\r\n        \r\n      })\r\n    }\r\n  },\r\n  bind(){\r\n    \r\n  },\r\n  // 加载分页插件\r\n  loadPagination(para){\r\n    if(!this.pagination) {\r\n      this.pagination = new _pagination()\r\n      this.bindEventAfterPagination()\r\n    }\r\n    this.pagination.render($.extend({}, para, {\r\n      $container: $('.pagination>ul'),\r\n    }))\r\n  },\r\n  bindEventAfterPagination(){\r\n    let _this = this;\r\n    let $defaultBtn = $('#default');\r\n    let $priceBtn = $('#price');\r\n    \r\n    $defaultBtn.on('click', function(e){\r\n      let $this = $(this);\r\n      \r\n      if($this.hasClass('active')){\r\n        return\r\n      } else {\r\n        _this.data.para.orderBy = '';\r\n        _this.load();\r\n        $this.addClass('active').siblings().removeClass('active')\r\n      }\r\n    })\r\n    $priceBtn.on('click', function(e){\r\n      let $this = $(this);\r\n      \r\n      // 如果没有active\r\n      if(!$this.hasClass('active')) {\r\n        _this.data.para.orderBy = 'price_asc';\r\n        _this.load();\r\n        $this.addClass('active asc').siblings().removeClass('active')\r\n      }\r\n      // 如果是是升序 asc\r\n      else if($this.hasClass('asc')){\r\n        _this.data.para.orderBy = 'price_desc';\r\n        _this.load();\r\n        $this.removeClass('asc').addClass('desc').siblings().removeClass('active');\r\n      } else if($this.hasClass('desc')) {\r\n        _this.data.para.orderBy = 'price_asc';\r\n        _this.load();\r\n        $this.removeClass('desc').addClass('asc').siblings().removeClass('active');\r\n      }\r\n      \r\n    })\r\n\r\n    let $pagination = $('.pagination>ul');\r\n    $pagination.on('click', 'li', function(e){\r\n      let $this = $(this);\r\n      // 如果点击的是当前页，return\r\n      if($this.hasClass('active')){\r\n        return;\r\n      } \r\n      // 点击前一页，并且前一页没有disable\r\n      else if($this.hasClass('pre-page') && !$this.hasClass('disable')){\r\n        _this.data.para.pageNum  -= 1;\r\n        _this.load();\r\n      } \r\n      // 点击下一页，并且下一页没有disable\r\n      else if($this.hasClass('next-page') && !$this.hasClass('disable')){\r\n        _this.data.para.pageNum += 1;\r\n        _this.load();\r\n      } \r\n      // 点击的是页码按钮\r\n      else {\r\n        _this.data.para.pageNum = $this.index();\r\n        _this.load();\r\n        $(this).addClass('active').siblings('.item').removeClass('active');\r\n      }\r\n    })\r\n  },\r\n  bindDetail(){\r\n    let _this = this;\r\n    let $list = $('.list>ul');\r\n    $list.on('click', 'li', function(e){\r\n      let id = $(this).data('id');\r\n      if(id) {\r\n        location.href = `./product-detail.html?productId=${id}`;\r\n      }\r\n    })\r\n  }\r\n}\r\n\r\n$(function(){\r\n  productSearch.init();\r\n})\n\n\n// WEBPACK FOOTER //\n// ./src/pages/product-search/index.js","module.exports = \"<% if (!data.length) { %> <p class=error-tip>很抱歉，实在找不到您要的商品。</p> <% } else { %> <% data.forEach(value => {%> <li data-id=\\\"<%=value.id%>\\\"> <a><img src=\\\"<%=value.imageHost + value.mainImage%>\\\" alt=\\\"\\\"></a> <p class=price>$ <span class=num><%= value.price %></span></p> <p class=desc><%=value.name%></p> </li> <% }) %> <% }%>\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/product-search/index.ejs\n// module id = 38\n// module chunks = 2","/*\r\n * @Author: guidetheorient \r\n * @Date: 2018-04-07 10:38:19 \r\n * @Last Modified by: guidetheorient\r\n * @Last Modified time: 2018-04-07 12:31:37\r\n */\r\n\r\n\r\nconst _util = require('tool/util/util.js');\r\n\r\nlet tpl = require('./index.ejs');\r\n\r\n\r\n\r\nclass pagination {\r\n  constructor(){\r\n\r\n  }\r\n\r\n  /**\r\n  // 是否有前一页\r\n  hasPreviousPage: res.data.hasPreviousPage,\r\n  // 是否有后一页\r\n  hasNextPage: res.data.hasNextPage,\r\n  // 共有几页\r\n  pages: res.data.pages,\r\n  // 当前是第几页\r\n  pageNum: res.data.pageNum,\r\n  // \r\n  isFirstPage: res.data.isFirstPage,\r\n  //\r\n  isLastPage: res.data.isLastPage\r\n  // container\r\n  $container: $(\".pagination>ul\")\r\n   */\r\n  render(para){\r\n    if(!para.pages){\r\n      return;\r\n    } else {\r\n      let html = _util.renderHtml(tpl, {\r\n        hasPreviousPage: para.hasPreviousPage,\r\n        hasNextPage: para.hasNextPage,\r\n        curPage: para.pageNum,\r\n        pages: para.pages\r\n      })\r\n      para.$container.html(html)\r\n    }\r\n  }\r\n}\r\n\r\nmodule.exports = pagination;\n\n\n// WEBPACK FOOTER //\n// ./src/tool/util/pagination/index.js","module.exports = \" <%if(data.hasPreviousPage) {%> <li class=pre-page> <i class=\\\"fa fa-angle-left\\\"></i> <span>上一页</span> </li> <%} else {%> <li class=\\\"pre-page disable\\\"> <i class=\\\"fa fa-angle-left\\\"></i> <span>上一页</span> </li> <%}%> <%if(data.pages) {%> <%for(let i = 1; i < data.pages+1; i++) {%> <%if(data.curPage === i) {%> <li class=\\\"active item\\\"><%=i%></li> <%}else{%> <li class=item><%=i%></li> <%}%> <%}%> <%}%> <%if(data.hasNextPage) {%> <li class=next-page> <span>下一页</span> <i class=\\\"fa fa-angle-right\\\"></i> </li> <%} else {%> <li class=\\\"next-page disable\\\"> <span>下一页</span> <i class=\\\"fa fa-angle-right\\\"></i> </li> <%}%>\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/tool/util/pagination/index.ejs\n// module id = 40\n// module chunks = 2"],"sourceRoot":""}